import{_ as u,b as p,d as c,r as f,c as g,a as e,w as x,x as b,z as h,q as d,v as r,f as w,o as _,h as y}from"./index-My5lkwnf.js";const v={data(){return{model:{email:"",password:"",username:""},passwordRepeat:""}},methods:{...p(w,["openModal"]),submitForm(){let a=new FormData;return a.append("email",this.model.email),a.append("password",this.model.password),a.append("username",this.model.username),this.$refs.imgInput.files&&this.$refs.imgInput.files.length&&a.append("avatar",this.$refs.imgInput.files[0]),c.auth.registration(a).then(s=>{console.log(s),this.openModal("ConfirmModal",{title:"Registration success",text:`User ${s.data.username} has been created!`,disabledCancel:!0},()=>{this.$router.push("login")})}).catch(s=>{console.log(s.response.data.message),this.openModal("ConfirmModal",{title:"Have some trouble",text:s&&s.response&&s.response.data&&s.response.data.message||"Registration error",disabledCancel:!0},()=>{})})},uploadImg(a){const s=this.$refs.imgContainer,l=new FileReader,[i]=a.target.files;l.onload=()=>{const t=l.result,n=new Image;n.src=t,s.innerHTML="",s.append(n)},l.readAsDataURL(i)}}},k={class:"bg-gray-100 min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8"},R=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900 ml-5"}," Создать аккаунт ")],-1),C={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},I={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},M={class:"text-sm"},F=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email адрес ",-1),V={class:"mt-1"},q=e("label",{for:"username",class:"block text-sm font-medium text-gray-700"}," Ваше имя или псевдоним ",-1),U={class:"mt-1"},D=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Пароль ",-1),L={class:"mt-1"},B=e("label",{for:"passwordRepeat",class:"block text-sm font-medium text-gray-700"}," Повторите пароль ",-1),N={class:"mt-1"},T=e("label",{for:"passwordRepeat",class:"block text-sm font-medium text-gray-700"}," Аватар пользователя ",-1),j={ref:"imgContainer"},A={class:"mt-1"},E=e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Зарегистрироваться ")],-1);function H(a,s,l,i,t,n){const m=f("RouterLink");return _(),g("div",k,[R,e("div",C,[e("div",I,[e("form",{class:"space-y-6",onSubmit:s[5]||(s[5]=x((...o)=>n.submitForm&&n.submitForm(...o),["prevent"]))},[e("div",M,[b(m,{class:"font-medium text-indigo-600 hover:text-indigo-500",to:"login"},{default:h(()=>[y(" Назад ")]),_:1})]),e("div",null,[F,e("div",V,[d(e("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.model.email=o),required:"",placeholder:"Ваш email или логин",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black"},null,512),[[r,t.model.email]])])]),e("div",null,[q,e("div",U,[d(e("input",{id:"username",name:"username",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>t.model.username=o),required:"",placeholder:"Никнейм",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black"},null,512),[[r,t.model.username]])])]),e("div",null,[D,e("div",L,[d(e("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>t.model.password=o),required:"",placeholder:"Ваш пароль",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black"},null,512),[[r,t.model.password]])])]),e("div",null,[B,e("div",N,[d(e("input",{id:"passwordRepeat",name:"passwordRepeat",type:"password","onUpdate:modelValue":s[3]||(s[3]=o=>t.passwordRepeat=o),required:"",placeholder:"Ваш пароль еще раз",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black"},null,512),[[r,t.passwordRepeat]])])]),e("div",null,[T,e("div",j,null,512),e("div",A,[e("input",{type:"file",ref:"imgInput",onChange:s[4]||(s[4]=(...o)=>n.uploadImg&&n.uploadImg(...o))},null,544)])]),E],32)])])])}const z=u(v,[["render",H]]);export{z as default};

import{U as c}from"./UserCard-Tb7BguTl.js";import{_ as u,m as U,b as m,d as r,r as p,c as a,F as h,e as f,u as _,f as v,o as n,g}from"./index-My5lkwnf.js";const C={components:{UserCard:c},data(){return{userList:[]}},mounted(){this.fetchUsers()},computed:{...U(_,["user"])},methods:{...m(v,["openModal"]),deleteUser(e){this.openModal("ConfirmModal",{title:"User delete",text:`You want to delete a user ${e.username}?`},()=>r.userService.deleteUser(e._id).then(()=>{this.fetchUsers()}))},editUser(e){this.openModal("EditUserModal",{title:"Edit user",user:e},t=>(console.log(t),r.userService.editUser(t).then(()=>{this.fetchUsers()})))},fetchUsers(){return r.userService.getUsers().then(e=>{e&&e.data&&(this.userList=e.data)})}}};function E(e,t,L,M,d,o){const i=p("UserCard");return n(),a("main",null,[(n(!0),a(h,null,f(d.userList,s=>(n(),g(i,{user:s,key:s._id,class:"m-6",onDeleteUser:l=>o.deleteUser(s),onEditUser:l=>o.editUser(s)},null,8,["user","onDeleteUser","onEditUser"]))),128))])}const x=u(C,[["render",E]]);export{x as default};
